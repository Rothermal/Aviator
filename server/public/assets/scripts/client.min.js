function init(){createScene(),createLights(),createPlane(),createSea(),createSky(),renderer.render(scene,camera),loop()}function createScene(){console.log("Building a Scene"),HEIGHT=window.innerHeight,WIDTH=window.innerWidth,scene=new THREE.Scene,scene.fog=new THREE.Fog(16243114,100,950),aspectRatio=WIDTH/HEIGHT,fieldOfView=60,nearPlane=1,farPlane=1e4,camera=new THREE.PerspectiveCamera(fieldOfView,aspectRatio,nearPlane,farPlane),camera.position.x=0,camera.position.z=200,camera.position.y=100,renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),renderer.setSize(WIDTH,HEIGHT),renderer.shadowMap.enabled=!0,container=document.getElementById("world"),container.appendChild(renderer.domElement),window.addEventListener("resize",handleWindowResize,!1)}function handleWindowResize(){console.log("hit window resize"),HEIGHT=window.innerHeight,WIDTH=window.innerWidth,renderer.setSize(WIDTH,HEIGHT),camera.aspect=WIDTH/HEIGHT,camera.updateProjectionMatrix()}function createLights(){console.log("Creating some Lights"),hemisphereLight=new THREE.HemisphereLight(11184810,0,".9"),shadowLight=new THREE.DirectionalLight(16777215,".9"),shadowLight.position.set(150,350,350),shadowLight.castShadow=!0,shadowLight.shadow.camera.left=-400,shadowLight.shadow.camera.right=400,shadowLight.shadow.camera.top=400,shadowLight.shadow.camera.bottom=-400,shadowLight.shadow.camera.near=1,shadowLight.shadow.camera.far=1e3,shadowLight.shadow.mapSize.width=2048,shadowLight.shadow.mapSize.height=2048,scene.add(hemisphereLight),scene.add(shadowLight)}function createPlane(){console.log("Make a plane")}function createSea(){console.log("Water water everywhere, but not a drop to drink"),sea=new Sea,sea.mesh.position.y=-600,scene.add(sea.mesh)}function createSky(){console.log("Slip the Surly bonds of earth"),sky=new Sky,sky.mesh.position.y=-600,scene.add(sky.mesh)}function loop(){console.log("You Spin me right round baby right round, like a record baby")}var scene,fieldOfView,aspectRatio,nearPlane,farPlane,HEIGHT,WIDTH,container,camera,renderer,hemisphereLight,shadowLight,geometry,material,mesh,sea,Colors={red:15881030,blue:6865856,brown:5845806,pink:16095342,white:14209233,brownDark:2300175};$(document).ready(function(){init()}),Sea=function(){var a=new THREE.CylinderGeometry(600,600,800,40,10);a.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var b=new THREE.MeshPhongMaterial({color:Colors.blue,transparent:!0,opacity:6,shading:THREE.FlatShading});this.mesh=new THREE.Mesh(a,b),this.mesh.receiveShadow=!0},Cloud=function(){this.mesh=new THREE.Object3D;for(var a=new THREE.BoxGeometry(20,20,20),b=new THREE.MeshPhongMaterial({color:Colors.white}),c=3+Math.floor(3*Math.random()),d=0;d<c;d++){var e=new THREE.Mesh(a,b);e.position.x=15*d,e.position.y=10*Math.random(),e.position.z=10*Math.random(),e.rotation.z=Math.random()*Math.PI*2,e.rotation.y=Math.random()*Math.PI*2;var f=.1+.9*Math.random();e.scale.set(f,f,f),e.castShadow=!0,e.receiveShadow=!0,this.mesh.add(e)}},Sky=function(){this.mesh=new THREE.Object3D,this.nClouds=20;for(var a=2*Math.PI/this.nClouds,b=0;b<this.nClouds;b++){var c=new Cloud,d=a*b,e=750+200*Math.random();c.mesh.position.y=Math.sin(d)*e,c.mesh.position.x=Math.cos(d)*e,c.mesh.rotation.z=d+Math.PI/2,c.mesh.position.z=-400-400*Math.random();var f=1+2*Math.random();c.mesh.scale.set(f,f,f),this.mesh.add(c.mesh)}};var sky;